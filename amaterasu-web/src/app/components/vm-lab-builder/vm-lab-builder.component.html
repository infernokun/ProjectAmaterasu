<div class="vm-lab-builder">
  <h2>Available VM Templates</h2>
  <div class="vm-list">
    <div class="vm-card" *ngFor="let vm of vms" (click)="toggleSelection(vm)"
      [ngClass]="{'selected': selectedVMs.includes(vm)}">
      <div class="vm-header">
        <h3>{{ vm.name }}</h3>
        <span class="vm-status"
          [ngClass]="{'status-active': vm.status === 'running', 'status-stopped': vm.status === 'stopped' && !vm.template, 'status-template': vm.status === 'stopped' && vm.template}">
          {{ !vm.template ? vm.status : 'template' }}
        </span>
      </div>

      <div class="vm-details">
        <p>VMID: {{ vm.vmid }}</p>
        <p>Uptime: {{ vm.uptime | number }} seconds</p>
        <p>Memory: {{ vm.mem | number }} MB / {{ vm.maxmem | number }} MB</p>
        <p>CPU Usage: {{ vm.cpu | number:'1.2-2' }}% ({{vm.cpus}} Cores)</p>
      </div>
    </div>
  </div>

  <div class="create-lab-template">
    <button class="btn btn-primary" [disabled]="selectedVMs.length === 0">
      Create Lab Template
    </button>
  </div>

  <h2>Available VM Labs</h2>
</div>